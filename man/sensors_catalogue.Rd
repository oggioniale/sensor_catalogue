% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sensor_catalogue.R
\name{sensors_catalogue}
\alias{sensors_catalogue}
\title{Generate SensorML XML descriptions from a sensor catalogue Excel file}
\usage{
sensors_catalogue(excel_path = NULL)
}
\arguments{
\item{excel_path}{Character string. Path to the Excel file containing the sensor catalogue.
Must include the sheet \code{"SensorInfo"}, and \code{"new_manufacturer"}.}
}
\value{
The function does not return an object in R.
It creates a directory for each system named \verb{Sensors_files_system_<UUID>/}
containing:
\itemize{
\item \verb{/system/} — XML file for the main system;
\item \verb{/components/} — XML files for all components (if any);
\item \verb{/system_components_files_ttl/} — generated RDF/Turtle files after running \code{sensors_type_rdf()}.
}
If missing manufacturers are detected, the function generates RDF/Turtle files
via \code{sensors_new_manufacturer()} and stops, prompting the user to upload these TTL files
into the Fuseki \emph{manufacturers} dataset before resuming execution.
}
\description{
This function reads an Excel file describing sensor systems and components,
validates manufacturer information against a reference triple store (Fuseki),
and generates corresponding SensorML 2.0 XML files for each system and its components.
If new manufacturers are listed in the Excel file, the function checks their presence
in the Fuseki \emph{manufacturers} dataset and, if missing, automatically creates
RDF/Turtle (\code{.ttl}) files describing them via the \code{sensors_new_manufacturer()} function.
In this case, the execution stops until the new TTL files are uploaded manually to Fuseki.
}
\details{
The input Excel file must contain at least one sheet named \strong{"SensorInfo"},
listing metadata for sensors, systems, and components (e.g. manufacturer name,
model, identifier, observed properties, capabilities, etc.).
Optionally, a second sheet \strong{"new_manufacturer"} may define metadata for new
manufacturers to be added to the catalogue.

The workflow executed by this function includes the following steps:
\itemize{
\item Reads and cleans valid rows from the \code{"SensorInfo"} sheet;
\item If the \code{"new_manufacturer"} sheet exists:
\itemize{
\item Checks each manufacturer against the Fuseki \emph{manufacturers} dataset (\code{sensors_check_man_exist()});
\item If missing, generates RDF/TTL records using \code{sensors_new_manufacturer()} and stops execution;
}
\item If all manufacturers exist in Fuseki:
\itemize{
\item Groups entries by sensor name;
\item Generates unique UUIDs for each sensor and component;
\item Creates SensorML 2.0 XML files for each system and component
via \code{sensors_sysTypeXML()} and \code{sensors_compTypeXML()};
}
\item The XML files can later be converted into RDF/Turtle using
the \code{sensors_type_rdf()} function or uploaded to a Sensor Observation Service (SOS).
}
}
\examples{
\dontrun{
sensors_catalogue(
  excel_path = "sensors_list/CristianoFugazza/sensors_CristianoFugazza.xlsx"
)
}

}
\seealso{
\code{\link{sensors_check_man_exist}}, \code{\link{sensors_new_manufacturer}},
\code{\link{sensors_sysTypeXML}}, \code{\link{sensors_compTypeXML}},
\code{\link{sensors_type_rdf}}
}
\author{
Alessandro Oggioni, PhD (2023) \email{oggioni.a@cnr.it}
}
