<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate SensorML XML descriptions from a sensor catalogue Excel file — sensors_catalogue • SensorCat</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate SensorML XML descriptions from a sensor catalogue Excel file — sensors_catalogue"><meta name="description" content="This function reads an Excel file describing sensor systems and components,
validates manufacturer information against a reference triple store (Fuseki),
and generates corresponding SensorML 2.0 XML files for each system and its components.
If new manufacturers are listed in the Excel file, the function checks their presence
in the Fuseki manufacturers dataset and, if missing, automatically creates
RDF/Turtle (.ttl) files describing them via the sensors_new_manufacturer() function.
In this case, the execution stops until the new TTL files are uploaded manually to Fuseki."><meta property="og:description" content="This function reads an Excel file describing sensor systems and components,
validates manufacturer information against a reference triple store (Fuseki),
and generates corresponding SensorML 2.0 XML files for each system and its components.
If new manufacturers are listed in the Excel file, the function checks their presence
in the Fuseki manufacturers dataset and, if missing, automatically creates
RDF/Turtle (.ttl) files describing them via the sensors_new_manufacturer() function.
In this case, the execution stops until the new TTL files are uploaded manually to Fuseki."><script defer data-domain="" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SensorCat</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="https://github.com/oggioniale/sensor_catalogue/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate SensorML XML descriptions from a sensor catalogue Excel file</h1>
      <small class="dont-index">Source: <a href="https://github.com/oggioniale/sensor_catalogue/blob/HEAD/R/sensor_catalogue.R"><code>R/sensor_catalogue.R</code></a></small>
      <div class="d-none name"><code>sensors_catalogue.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function reads an Excel file describing sensor systems and components,
validates manufacturer information against a reference triple store (Fuseki),
and generates corresponding SensorML 2.0 XML files for each system and its components.
If new manufacturers are listed in the Excel file, the function checks their presence
in the Fuseki <em>manufacturers</em> dataset and, if missing, automatically creates
RDF/Turtle (<code>.ttl</code>) files describing them via the <code><a href="sensors_new_manufacturer.html">sensors_new_manufacturer()</a></code> function.
In this case, the execution stops until the new TTL files are uploaded manually to Fuseki.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sensors_catalogue</span><span class="op">(</span></span>
<span>  excel_path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  creator_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  creator_surname <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  creator_orcid <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-excel-path">excel_path<a class="anchor" aria-label="anchor" href="#arg-excel-path"></a></dt>
<dd><p>Character string. Path to the Excel file containing the sensor catalogue.
Must include the sheet <code>"SensorInfo"</code>, and <code>"new_manufacturer"</code>.</p></dd>


<dt id="arg-creator-name">creator_name<a class="anchor" aria-label="anchor" href="#arg-creator-name"></a></dt>
<dd><p>Character. First name of the sensor owner.</p></dd>


<dt id="arg-creator-surname">creator_surname<a class="anchor" aria-label="anchor" href="#arg-creator-surname"></a></dt>
<dd><p>Character. Last name of the sensor owner.</p></dd>


<dt id="arg-creator-orcid">creator_orcid<a class="anchor" aria-label="anchor" href="#arg-creator-orcid"></a></dt>
<dd><p>Character. ORCID of the sensor owner (e.g. <code>"0000-0002-1825-0097"</code>).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The function does not return an object in R.
It creates a directory for each system named <code>Sensors_files_system_&lt;UUID&gt;/</code>
containing:</p><ul><li><p><code>/system/</code> — XML file for the main system;</p></li>
<li><p><code>/components/</code> — XML files for all components (if any);</p></li>
<li><p><code>/system_components_files_ttl/</code> — generated RDF/Turtle files after running <code><a href="sensors_type_rdf.html">sensors_type_rdf()</a></code>.</p></li>
</ul><p>If missing manufacturers are detected, the function generates RDF/Turtle files
via <code><a href="sensors_new_manufacturer.html">sensors_new_manufacturer()</a></code> and stops, prompting the user to upload these TTL files
into the Fuseki <em>manufacturers</em> dataset before resuming execution.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The input Excel file must contain at least one sheet named <strong>"SensorInfo"</strong>,
listing metadata for sensors, systems, and components (e.g. manufacturer name,
model, identifier, observed properties, capabilities, etc.).
Optionally, a second sheet <strong>"new_manufacturer"</strong> may define metadata for new
manufacturers to be added to the catalogue.</p>
<p>The workflow executed by this function includes the following steps:</p><ul><li><p>Reads and cleans valid rows from the <code>"SensorInfo"</code> sheet;</p></li>
<li><p>If the <code>"new_manufacturer"</code> sheet exists:</p><ul><li><p>Checks each manufacturer against the Fuseki <em>manufacturers</em> dataset (<code><a href="sensors_check_man_exist.html">sensors_check_man_exist()</a></code>);</p></li>
<li><p>If missing, generates RDF/TTL records using <code><a href="sensors_new_manufacturer.html">sensors_new_manufacturer()</a></code> and stops execution;</p></li>
</ul></li>
<li><p>If all manufacturers exist in Fuseki:</p><ul><li><p>Groups entries by sensor name;</p></li>
<li><p>Generates unique UUIDs for each sensor and component;</p></li>
<li><p>Creates SensorML 2.0 XML files for each system and component
via <code><a href="sensors_sysTypeXML.html">sensors_sysTypeXML()</a></code> and <code><a href="sensors_compTypeXML.html">sensors_compTypeXML()</a></code>;</p></li>
</ul></li>
<li><p>The XML files can later be converted into RDF/Turtle using
the <code><a href="sensors_type_rdf.html">sensors_type_rdf()</a></code> function or uploaded to a Sensor Observation Service (SOS).</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="sensors_check_man_exist.html">sensors_check_man_exist</a></code>, <code><a href="sensors_new_manufacturer.html">sensors_new_manufacturer</a></code>,
<code><a href="sensors_sysTypeXML.html">sensors_sysTypeXML</a></code>, <code><a href="sensors_compTypeXML.html">sensors_compTypeXML</a></code>,
<code><a href="sensors_type_rdf.html">sensors_type_rdf</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Alessandro Oggioni, PhD (2023) <a href="mailto:oggioni.a@cnr.it">oggioni.a@cnr.it</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu">sensors_catalogue</span><span class="op">(</span></span></span>
<span class="r-in"><span>  excel_path <span class="op">=</span> <span class="st">"sensors_list/CristianoFugazza/sensors_CristianoFugazza.xlsx"</span>,</span></span>
<span class="r-in"><span>  creator_name <span class="op">=</span> <span class="st">"John"</span>,</span></span>
<span class="r-in"><span>  creator_surname <span class="op">=</span> <span class="st">"Doe"</span>,</span></span>
<span class="r-in"><span>  creator_orcid <span class="op">=</span> <span class="st">"0000-0002-1234-5678"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alessandro Oggioni.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

